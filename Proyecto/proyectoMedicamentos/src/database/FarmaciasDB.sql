-- Crear la base de datos
CREATE DATABASE FarmaciasDB;
GO

-- Usar la base de datos
USE FarmaciasDB;
GO

-- Tabla de Medicamentos
CREATE TABLE Medicamentos
(
    id_medicamento   INT IDENTITY (1,1) PRIMARY KEY,
    nombre_comercial VARCHAR(100) NOT NULL UNIQUE,
    nombre_generico  VARCHAR(100),
    total_consultas  INT DEFAULT 0
);
--Tabla de Farmacias
CREATE TABLE Farmacias
(
    id_farmacia INT IDENTITY (1,1) PRIMARY KEY,
    nombre      VARCHAR(100) NOT NULL,
    barrio      VARCHAR(100) NOT NULL,
    direccion   VARCHAR(150) NOT NULL
);
GO
-- Tabla intermedia para relacionar farmacias y medicamentos con precios
CREATE TABLE Farmacia_Medicamento
(
    id_farmacia    INT,
    id_medicamento INT,
    precio         DECIMAL(10, 2) NOT NULL,
    PRIMARY KEY (id_farmacia, id_medicamento)
);
DROP TABLE Medicamentos;
DROP table farmacias;
DROP TABLE Farmacia_Medicamento;

--Insercion en tabla medicamentos
INSERT INTO Medicamentos (nombre_comercial, nombre_generico)
VALUES ('Tylenol', 'Paracetamol'),
       ('Panadol', 'Paracetamol'),
       ('Advil', 'Ibuprofen'),
       ('Motrin', 'Ibuprofen'),
       ('Aleve', 'Naproxen'),
       ('Zyrtec', 'Cetirizine'),
       ('Claritin', 'Loratadine'),
       ('Benadryl', 'Diphenhydramine'),
       ('Xanax', 'Alprazolam'),
       ('Valium', 'Diazepam'),
       ('Lipitor', 'Atorvastatin'),
       ('Crestor', 'Rosuvastatin'),
       ('Zocor', 'Simvastatin'),
       ('Plavix', 'Clopidogrel'),
       ('Coumadin', 'Warfarin'),
       ('Synthroid', 'Levothyroxine'),
       ('Glucophage', 'Metformin'),
       ('Januvia', 'Sitagliptin'),
       ('Ventolin', 'Albuterol'),
       ('ProAir', 'Albuterol');

--Insercion en tabla farmacias
INSERT INTO Farmacias (nombre, barrio, direccion)
VALUES ('Farmacia Arrocha', 'San Francisco', 'Calle 50, Edificio Arrocha Plaza'),
       ('Farmacias Revilla', 'San Miguelito', 'Avenida Domingo Díaz, Edificio Revilla Center'),
       ('Farmacia Metro', 'Bella Vista', 'Calle 43, Edificio Metro Tower'),
       ('Farmacia El Javillo', 'Betania', 'Calle 74, Edificio Javillo Plaza'),
       ('Farmacia Arrocha', 'San Francisco', 'Calle 52, Edificio Arrocha Central'),
       ('Farmacias Revilla', 'San Miguelito', 'Calle 2, Edificio Revilla Norte'),
       ('Farmacia Metro', 'Bella Vista', 'Calle 45, Edificio Metro Norte'),
       ('Farmacia El Javillo', 'Betania', 'Calle 76, Edificio Javillo Este'),
       ('Farmacia San Fernando', 'Parque Lefevre', 'Avenida 3, Edificio San Fernando'),
       ('Farmacia Economica', 'Juan Díaz', 'Calle 10, Edificio Economica Plaza'),
       ('Farmacia Salud', 'San Miguelito', 'Calle 5, Edificio Salud Norte'),
       ('Farmacia Vida', 'Bella Vista', 'Calle 47, Edificio Vida Tower'),
       ('Farmacia Express', 'San Francisco', 'Calle 54, Edificio Express Central'),
       ('Farmacia Total', 'Betania', 'Calle 78, Edificio Total Este'),
       ('Farmacia Plus', 'Parque Lefevre', 'Avenida 5, Edificio Plus Plaza'),
       ('Farmacia Moderna', 'Juan Díaz', 'Calle 12, Edificio Moderna Plaza'),
       ('Farmacia Familiar', 'San Miguelito', 'Calle 7, Edificio Familiar Norte'),
       ('Farmacia Integral', 'Bella Vista', 'Calle 49, Edificio Integral Tower'),
       ('Farmacia Roma', 'San Francisco', 'Calle 56, Edificio Roma Plaza'),
       ('Farmacia ABC', 'Betania', 'Calle 80, Edificio ABC Central');

--Insercion en tabla de relacion.
INSERT INTO Farmacia_Medicamento (id_farmacia, id_medicamento, precio)
VALUES (1, 16, 6.07),
       (1, 2, 7.13),
       (1, 8, 7.99),
       (1, 5, 5.14),
       (1, 19, 5.06),
       (1, 7, 6.09),
       (1, 15, 5.81),
       (1, 9, 6.98),
       (1, 6, 6.31),
       (2, 15, 5.33),
       (2, 14, 4.59),
       (2, 12, 5.07),
       (2, 10, 5.51),
       (2, 5, 5.35),
       (2, 11, 5.81),
       (2, 20, 6.61),
       (2, 17, 6.42),
       (2, 2, 6.96),
       (2, 1, 7.31),
       (3, 1, 6.88),
       (3, 14, 6.21),
       (3, 8, 5.64),
       (3, 13, 4.51),
       (3, 3, 7.08),
       (4, 14, 7.36),
       (4, 10, 5.73),
       (4, 16, 6.9),
       (4, 4, 6.27),
       (4, 17, 6.95),
       (4, 15, 6.17),
       (4, 7, 6.5),
       (4, 12, 5.02),
       (4, 9, 5.81),
       (4, 5, 7.74),
       (5, 13, 6.73),
       (5, 3, 6.17),
       (5, 11, 6.73),
       (5, 12, 6.39),
       (5, 10, 6.26),
       (5, 15, 4.71),
       (5, 19, 7.4),
       (6, 6, 5.44),
       (6, 12, 6.27),
       (6, 19, 5.26),
       (6, 13, 6.61),
       (6, 5, 7.27),
       (6, 10, 6.33),
       (6, 14, 7.75),
       (7, 11, 6.89),
       (7, 8, 7.98),
       (7, 2, 6.26),
       (7, 14, 4.55),
       (7, 1, 5.77),
       (7, 18, 6.9),
       (7, 4, 4.78),
       (7, 17, 4.81),
       (8, 18, 4.59),
       (8, 20, 5.47),
       (8, 17, 6.19),
       (8, 16, 4.87),
       (8, 7, 5.37),
       (9, 18, 5.58),
       (9, 3, 7.78),
       (9, 1, 6.78),
       (9, 15, 7.72),
       (9, 7, 6.83),
       (9, 2, 6.29),
       (9, 19, 4.84),
       (9, 9, 6.36),
       (9, 13, 6.25),
       (9, 16, 7.14),
       (10, 9, 4.87),
       (10, 1, 4.83),
       (10, 11, 6.74),
       (10, 7, 7.24),
       (10, 4, 5.54),
       (10, 3, 4.64),
       (10, 15, 7.3),
       (11, 9, 7.33),
       (11, 7, 6.64),
       (11, 3, 4.88),
       (11, 2, 5.87),
       (11, 16, 7.46),
       (11, 18, 5.68),
       (11, 17, 4.86),
       (11, 19, 7.47),
       (11, 8, 5.39),
       (11, 20, 7.56),
       (12, 13, 7.49),
       (12, 12, 6.01),
       (12, 19, 6.8),
       (12, 14, 6.62),
       (12, 9, 7.49),
       (12, 7, 5.54),
       (13, 3, 6.52),
       (13, 16, 7.56),
       (13, 20, 6.85),
       (13, 1, 5.23),
       (13, 9, 5.09),
       (13, 12, 6.56),
       (13, 17, 7.06),
       (13, 18, 4.82),
       (13, 11, 7.54),
       (14, 13, 4.57),
       (14, 18, 7.78),
       (14, 7, 5.59),
       (14, 16, 5.87),
       (14, 2, 7.67),
       (14, 9, 6.31),
       (14, 5, 6.99),
       (14, 15, 4.73),
       (15, 10, 6.62),
       (15, 2, 5.28),
       (15, 14, 7.52),
       (15, 3, 5.02),
       (15, 16, 7.54),
       (15, 9, 6.31),
       (15, 1, 5.8),
       (15, 6, 7.29),
       (15, 4, 7.85),
       (15, 17, 5.25),
       (16, 6, 7.93),
       (16, 5, 5.88),
       (16, 7, 6.85),
       (16, 17, 5.72),
       (16, 2, 4.51),
       (16, 4, 6.52),
       (17, 11, 7.46),
       (17, 13, 6.66),
       (17, 20, 6.1),
       (17, 15, 6.82),
       (17, 14, 6.14),
       (17, 16, 4.88),
       (17, 3, 6.41),
       (18, 5, 4.74),
       (18, 15, 5.38),
       (18, 11, 5.27),
       (18, 7, 6.75),
       (18, 12, 4.5),
       (18, 10, 4.8),
       (18, 13, 6.51),
       (18, 17, 5.6),
       (18, 18, 7.27),
       (19, 14, 6.7),
       (19, 3, 7.6),
       (19, 13, 6.4),
       (19, 2, 6.52),
       (19, 6, 6.07),
       (19, 20, 4.95),
       (20, 7, 4.61),
       (20, 16, 4.9),
       (20, 4, 5.1),
       (20, 19, 5.21),
       (20, 14, 6.58),
       (20, 20, 5.37);